#+TITLE: Шаблон программы для PIC

* Состав

- Makefile :: Основной сборочный файл
- build/ :: Результаты сборки
- doc/ :: Документация
- packages/ :: Архивы с файлами и документацией
- releases/ :: Hex-файлы вариантов программ
- src/ :: Исходные коды и заголовочные файлы
  - main.c :: Главный файл
  - isr.c :: Прерывания
  - confbits.c :: Биты конфигурации

** Именование hex-файлов

<имя проекта>-<контроллер>-<версия>.<сборка>

** Makefile

Параметры проекта:
- PRJ_NAME :: Имя проекта, используется в названии hex-файла
- CHIP :: Марка микроконтроллера, используется при сборке и в имени
          файла
- VER :: Версия программы, используется в имени файла
- OBJS :: Исходные коды (.c)

Цели:
- RELEASES
  - releases :: Собрать все варианты программы
  - main :: Основная сборка программы
  - <имя> :: Другие варианты сборки, используется в имени файла

Другие варианты сборки могут отличаться:
- используемым контроллером
- директивами препроцессора
  - cath :: для индикаторов с общим катодом
  - ands :: для индикаторов с общим анодом

** Выпуск нового релиза

Реестр IdLoc http://konstantin-morenko.ru/my-pic-idloc/

Система именования версий https://semver.org

- [ ] Протестировать работу программы
- [ ] Пометить старый IdLoc как устаревший
- [ ] Назначить новый IdLoc
- [ ] Описать ChangeLog
- [ ] Проверить согласованность документации и изменений в коде
- [ ] Сделать коммит
- [ ] Назначить тег коммиту
- [ ] Загрузить на github.com
- [ ] Обновить информацию о новом IdLoc
